

<!DOCTYPE html>
<html lang="zh-Hans" dir="ltr" class="scroll-smooth" data-default-appearance="dark"
  data-auto-appearance="true"><head>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="zh-Hans" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>基于Abp框架的博客项目：基本的CRUD &middot; AzusaArchive</title>
  <meta name="title" content="基于Abp框架的博客项目：基本的CRUD &middot; AzusaArchive" />
  
  <meta name="description" content="梓的个人档案" />
  <meta name="keywords" content="Abp框架, CSharp, " />
  
  
  <link rel="canonical" href="https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E7%9A%84crud/" />
  
  
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/Hugo-Blog-Blowfish-Theme/css/main.bundle.min.8c7d5c1489d8d05b8a55aa15bd8f3283a927e281e2c0bfd20c1bffeeef63fd25b9fd787dab18caabae535055c2d3f174923c52ba3595d69fa1e7828e272b0aac.css"
    integrity="sha512-jH1cFInY0FuKVaoVvY8yg6kn4oHiwL/SDBv/7u9j/SW5/Xh9qxjKq65TUFXC0/F0kjxSujWV1p&#43;h54KOJysKrA==" />
  
  
  <script type="text/javascript" src="/Hugo-Blog-Blowfish-Theme/js/appearance.min.a75d508cf75a202afc48fe649516720f8036bda3657897f6cc07dab21f94fa9c3933edbbfc2936f8d3a426f45ac6153237a48aec9115147c5e03db1c5b62b8bc.js"
    integrity="sha512-p11QjPdaICr8SP5klRZyD4A2vaNleJf2zAfash&#43;U&#43;pw5M&#43;27/Ck2&#43;NOkJvRaxhUyN6SK7JEVFHxeA9scW2K4vA=="></script>
  
  
  
  
  
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/Hugo-Blog-Blowfish-Theme/js/main.bundle.min.34dfb4e6b05b47b0a3599f50035f9bbb18c2d36a26aa4c0ea7acc4936489d4c2a55f65683d53e3c4215337e6a8c02e554881af2da86b5783c96837ae3d4e98f6.js"
    integrity="sha512-NN&#43;05rBbR7CjWZ9QA1&#43;buxjC02omqkwOp6zEk2SJ1MKlX2VoPVPjxCFTN&#43;aowC5VSIGvLahrV4PJaDeuPU6Y9g==" data-copy="" data-copied=""></script>
  
  <script src="/js/zoom.min.js"></script>
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/Hugo-Blog-Blowfish-Theme/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/Hugo-Blog-Blowfish-Theme/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/Hugo-Blog-Blowfish-Theme/favicon-16x16.png" />
  <link rel="manifest" href="/Hugo-Blog-Blowfish-Theme/site.webmanifest" />
  
  
  
  
  
  
  
  <meta property="og:title" content="基于Abp框架的博客项目：基本的CRUD" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E7%9A%84crud/" /><meta property="og:image" content="https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E7%9A%84crud/featured.jpg"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-18T14:31:42+08:00" />
<meta property="article:modified_time" content="2023-04-18T14:31:42+08:00" /><meta property="og:site_name" content="AzusaArchive" />



  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E7%9A%84crud/featured.jpg"/>
<meta name="twitter:title" content="基于Abp框架的博客项目：基本的CRUD"/>
<meta name="twitter:description" content=""/>

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Posts",
    "name": "基于Abp框架的博客项目：基本的CRUD",
    "headline": "基于Abp框架的博客项目：基本的CRUD",
    
    
    "inLanguage": "zh-Hans",
    "url" : "https:\/\/azusaarchive.github.io\/Hugo-Blog-Blowfish-Theme\/posts\/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E7%9A%84crud\/",
    "author" : {
      "@type": "Person",
      "name": "梓"
    },
    "copyrightYear": "2023",
    "dateCreated": "2023-04-18T14:31:42\u002b08:00",
    "datePublished": "2023-04-18T14:31:42\u002b08:00",
    
    "dateModified": "2023-04-18T14:31:42\u002b08:00",
    
    "keywords": ["Abp框架","CSharp"],
    
    "mainEntityOfPage": "true",
    "wordCount": "4692"
  }]
  </script>


  
  
  <meta name="author" content="梓" />
  
  
  
  <link href="2817212736@qq.com" rel="me" />
  
  
  <link href="https://github.com/AzusaArchive" rel="me" />
  
  
  
  

<script src="/Hugo-Blog-Blowfish-Theme/lib/jquery/jquery.slim.min.js" integrity=""></script>


















  
  
  
  


  
  
  <meta name="theme-color"/>
  
  
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a>
  </div>
  
  
  <div class="min-h-[148px]"></div>
<div class="fixed inset-x-0 pl-[24px] pr-[24px]" style="z-index:100">
  <div id="menu-blur" class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div>
  <div class="relative max-w-[64rem] ml-auto mr-auto">
    <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3">
    
    
    
    <div>
        <a href="/Hugo-Blog-Blowfish-Theme/" class="flex">
            <span class="sr-only">AzusaArchive</span>

            <img src="/Hugo-Blog-Blowfish-Theme/icons/logo.png" width="43" height="40"
                class="max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt="AzusaArchive" />

        </a>
    </div>
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            <a href="/Hugo-Blog-Blowfish-Theme/" class="text-base font-medium text-gray-500 hover:text-gray-900">AzusaArchive</a>


        </nav>
        <nav class="hidden md:flex items-center space-x-5 md:ml-12">

            
            
            
  <a href="/Hugo-Blog-Blowfish-Theme/posts/"  class="flex items-center">
    
    <p class="text-base font-medium text-gray-500 hover:text-gray-900" title="Posts">
        文章
    </p>
</a>


            
            
  <a href="/Hugo-Blog-Blowfish-Theme/categories/"  class="flex items-center">
    
    <p class="text-base font-medium text-gray-500 hover:text-gray-900" title="Categories">
        分类
    </p>
</a>


            
            
  <a href="/Hugo-Blog-Blowfish-Theme/tags/"  class="flex items-center">
    
    <p class="text-base font-medium text-gray-500 hover:text-gray-900" title="Tags">
        标签
    </p>
</a>


            
             
  <div>
  <div class="cursor-pointer flex items-center nested-menu">
    
    <a class="text-base font-medium text-gray-500 hover:text-gray-900" title="">
      其他
    </a>
    <span>
      

  <span class="relative block icon">
    <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>

  </span>


    </span>
  </div>
  <div class="absolute menuhide">
    <div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl">
      <div class="flex flex-col space-y-3">
        
        <a href="https://github.com/AzusaArchive" 
          target="_blank"  class="flex items-center">
          
          <span  class="mr-1" >
            

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>


          </span>
          
          <p class="text-sm font-sm text-gray-500 hover:text-gray-900" title="">
            GitHub
          </p>
        </a>
        
        <a href=""  class="flex items-center">
          
          <span  class="mr-1" >
            

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M172.5 131.1C228.1 75.51 320.5 75.51 376.1 131.1C426.1 181.1 433.5 260.8 392.4 318.3L391.3 319.9C381 334.2 361 337.6 346.7 327.3C332.3 317 328.9 297 339.2 282.7L340.3 281.1C363.2 249 359.6 205.1 331.7 177.2C300.3 145.8 249.2 145.8 217.7 177.2L105.5 289.5C73.99 320.1 73.99 372 105.5 403.5C133.3 431.4 177.3 435 209.3 412.1L210.9 410.1C225.3 400.7 245.3 404 255.5 418.4C265.8 432.8 262.5 452.8 248.1 463.1L246.5 464.2C188.1 505.3 110.2 498.7 60.21 448.8C3.741 392.3 3.741 300.7 60.21 244.3L172.5 131.1zM467.5 380C411 436.5 319.5 436.5 263 380C213 330 206.5 251.2 247.6 193.7L248.7 192.1C258.1 177.8 278.1 174.4 293.3 184.7C307.7 194.1 311.1 214.1 300.8 229.3L299.7 230.9C276.8 262.1 280.4 306.9 308.3 334.8C339.7 366.2 390.8 366.2 422.3 334.8L534.5 222.5C566 191 566 139.1 534.5 108.5C506.7 80.63 462.7 76.99 430.7 99.9L429.1 101C414.7 111.3 394.7 107.1 384.5 93.58C374.2 79.2 377.5 59.21 391.9 48.94L393.5 47.82C451 6.731 529.8 13.25 579.8 63.24C636.3 119.7 636.3 211.3 579.8 267.7L467.5 380z"/></svg>

  </span>


          </span>
          
          <p class="text-sm font-sm text-gray-500 hover:text-gray-900" title="">
            关于
          </p>
        </a>
        
      </div>
    </div>
  </div>
</div>


            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            
            <div
                class="ltr:mr-14 rtl:ml-14 cursor-pointer text-sm text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button">
                    <div class="flex items-center justify-center h-12 dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden h-12 dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center space-x-5 md:ml-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" style="margin-right:5px">
                <div class="flex items-center justify-center h-12 dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden h-12 dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 -mr-2 md:hidden">

        <label id="menu-button" for="menu-controller" class="block">
            <input type="checkbox" id="menu-controller" class="hidden" />
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-auto overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li>
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    
                    

                    
  <li class="mt-1">
    <a href="/Hugo-Blog-Blowfish-Theme/posts/"  class="flex items-center">
        
        <p class="text-bg font-bg text-gray-500 hover:text-gray-900" title="Posts">
            文章
        </p>
    </a>
</li>



                    

                    
  <li class="mt-1">
    <a href="/Hugo-Blog-Blowfish-Theme/categories/"  class="flex items-center">
        
        <p class="text-bg font-bg text-gray-500 hover:text-gray-900" title="Categories">
            分类
        </p>
    </a>
</li>



                    

                    
  <li class="mt-1">
    <a href="/Hugo-Blog-Blowfish-Theme/tags/"  class="flex items-center">
        
        <p class="text-bg font-bg text-gray-500 hover:text-gray-900" title="Tags">
            标签
        </p>
    </a>
</li>



                    

                     
  <li class="mt-1">
    <a class="flex items-center">
        
        <p class="text-bg font-bg text-gray-500 hover:text-gray-900" title="">
            其他
        </p>
        <span>
            

  <span class="relative block icon">
    <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>

  </span>


        </span>
    </a>
</li>

<li class="mt-1">
    <a href="https://github.com/AzusaArchive"  target="_blank"  class="flex items-center">
        
        <span  class="mr-1" >
            

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>


        </span>
        
        <p class="text-sm font-small text-gray-500 hover:text-gray-900" title="">
            GitHub
        </p>
    </a>
</li>

<li class="mt-1">
    <a href=""  class="flex items-center">
        
        <span  class="mr-1" >
            

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M172.5 131.1C228.1 75.51 320.5 75.51 376.1 131.1C426.1 181.1 433.5 260.8 392.4 318.3L391.3 319.9C381 334.2 361 337.6 346.7 327.3C332.3 317 328.9 297 339.2 282.7L340.3 281.1C363.2 249 359.6 205.1 331.7 177.2C300.3 145.8 249.2 145.8 217.7 177.2L105.5 289.5C73.99 320.1 73.99 372 105.5 403.5C133.3 431.4 177.3 435 209.3 412.1L210.9 410.1C225.3 400.7 245.3 404 255.5 418.4C265.8 432.8 262.5 452.8 248.1 463.1L246.5 464.2C188.1 505.3 110.2 498.7 60.21 448.8C3.741 392.3 3.741 300.7 60.21 244.3L172.5 131.1zM467.5 380C411 436.5 319.5 436.5 263 380C213 330 206.5 251.2 247.6 193.7L248.7 192.1C258.1 177.8 278.1 174.4 293.3 184.7C307.7 194.1 311.1 214.1 300.8 229.3L299.7 230.9C276.8 262.1 280.4 306.9 308.3 334.8C339.7 366.2 390.8 366.2 422.3 334.8L534.5 222.5C566 191 566 139.1 534.5 108.5C506.7 80.63 462.7 76.99 430.7 99.9L429.1 101C414.7 111.3 394.7 107.1 384.5 93.58C374.2 79.2 377.5 59.21 391.9 48.94L393.5 47.82C451 6.731 529.8 13.25 579.8 63.24C636.3 119.7 636.3 211.3 579.8 267.7L467.5 380z"/></svg>

  </span>


        </span>
        
        <p class="text-sm font-small text-gray-500 hover:text-gray-900" title="">
            关于
        </p>
    </a>
</li>

<li class="mb-2"></li>



                    
                    

                </ul>
                

            </div>
        </label>
    </div>
</div>




<script>
    (function () {
        var $mainmenu = $('.main-menu');
        var path = window.location.pathname;
        $mainmenu.find('a[href="' + path + '"]').each(function (i, e) {
            $(e).children('p').addClass('active');
        });
    })();
</script>


  </div>
</div>
<script>
  window.addEventListener('scroll', function (e) {
    var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
    var background_blur = document.getElementById('menu-blur');
    background_blur.style.opacity = (scroll / 300);
  });
</script>

  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


<article>
  
    
     
    
    
      


<div id="hero" class="h-[150px] md:h-[200px]"></div>


    
    <div class="fixed inset-x-0 top-0 h-[800px] single_hero_background nozoom"
    style="background-image:url(/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E7%9A%84crud/featured.jpg);">
    


    <div class="absolute inset-0 bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal">
    </div>
    <div
        class="absolute inset-0 opacity-60 bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral-100 dark:to-neutral-800 mix-blend-normal">
    </div>
</div>

<div id="background-blur" class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl"></div>
<script>
    window.addEventListener('scroll', function (e) {
        var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        var background_blur = document.getElementById('background-blur');
        background_blur.style.opacity = (scroll / 300)
    });
</script>

    
  
  
  <header id="single_header" class="mt-5 max-w-prose">
    
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      基于Abp框架的博客项目：基本的CRUD
    </h1>
    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      




































<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2023-04-18 14:31:42 &#43;0800 CST">2023年4月18日</time><span class="px-2 text-primary-500">&middot;</span><span>4692 字</span><span class="px-2 text-primary-500">&middot;</span><span title="预计阅读">10 分钟</span>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/Hugo-Blog-Blowfish-Theme/categories/.net/&#34;,'_self');">
    <span class="flex">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400"
  >
    .NET
  </span>
</span>

  </span>
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/Hugo-Blog-Blowfish-Theme/tags/abp%E6%A1%86%E6%9E%B6/&#34;,'_self');">
    <span class="flex">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400"
  >
    Abp框架
  </span>
</span>

  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/Hugo-Blog-Blowfish-Theme/tags/csharp/&#34;,'_self');">
    <span class="flex">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400"
  >
    CSharp
  </span>
</span>

  </span>
  
  
  
  
</div>



    </div>
  </header>
  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
     
    <div class="order-first sm:max-w-prose lg:ml-auto px-0 lg:order-last lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8">
      <div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky  lg:top-[140px] ">
        <details open class="mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#创建自定义仓储">创建自定义仓储</a>
      <ul>
        <li><a href="#自定义仓储接口">自定义仓储接口</a></li>
        <li><a href="#定义实现类">定义实现类</a></li>
        <li><a href="#将自定义仓储添加至依赖注入">将自定义仓储添加至依赖注入</a></li>
      </ul>
    </li>
    <li><a href="#创建数据传输对象">创建数据传输对象</a>
      <ul>
        <li><a href="#创建响应数据传输对象">创建响应数据传输对象</a></li>
        <li><a href="#创建请求数据传输对象">创建请求数据传输对象</a></li>
        <li><a href="#请求数据对象校验">请求数据对象校验</a></li>
        <li><a href="#实体类与数据传输对象的映射">实体类与数据传输对象的映射</a></li>
      </ul>
    </li>
    <li><a href="#定义应用程序服务">定义应用程序服务</a>
      <ul>
        <li><a href="#定义应用服务接口">定义应用服务接口</a></li>
        <li><a href="#实现应用服务接口">实现应用服务接口</a></li>
      </ul>
    </li>
    <li><a href="#swagger-ui">Swagger UI</a></li>
  </ul>
</nav>
  </div>
</details>
<details class="mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#创建自定义仓储">创建自定义仓储</a>
      <ul>
        <li><a href="#自定义仓储接口">自定义仓储接口</a></li>
        <li><a href="#定义实现类">定义实现类</a></li>
        <li><a href="#将自定义仓储添加至依赖注入">将自定义仓储添加至依赖注入</a></li>
      </ul>
    </li>
    <li><a href="#创建数据传输对象">创建数据传输对象</a>
      <ul>
        <li><a href="#创建响应数据传输对象">创建响应数据传输对象</a></li>
        <li><a href="#创建请求数据传输对象">创建请求数据传输对象</a></li>
        <li><a href="#请求数据对象校验">请求数据对象校验</a></li>
        <li><a href="#实体类与数据传输对象的映射">实体类与数据传输对象的映射</a></li>
      </ul>
    </li>
    <li><a href="#定义应用程序服务">定义应用程序服务</a>
      <ul>
        <li><a href="#定义应用服务接口">定义应用服务接口</a></li>
        <li><a href="#实现应用服务接口">实现应用服务接口</a></li>
      </ul>
    </li>
    <li><a href="#swagger-ui">Swagger UI</a></li>
  </ul>
</nav>
  </div>
</details>

 
<script>
  (function () {
    var $toc = $('#TableOfContents');
    if ($toc.length > 0) {
      var $window = $(window);

      function onScroll() {
        var currentScroll = $window.scrollTop();
        var h = $('.anchor');
        var id = "";
        h.each(function (i, e) {
          e = $(e);
          if (e.offset().top - $(window).height()/3 <= currentScroll) {
            id = e.attr('id');
          }
        });
        var active = $toc.find('a.active');      
        if (active.length == 1 && active.eq(0).attr('href') == '#' + id) return true;

        active.each(function (i, e) {
           
            $(e).removeClass('active').siblings('ul').hide();
          
        });
        $toc.find('a[href="#' + id + '"]').addClass('active')
        $toc.find('a[href="#' + id + '"]').parentsUntil('#TableOfContents').each(function (i, e) {
          $(e).children('a').parents('ul').show();          
        });
      }

      $window.on('scroll', onScroll);
      $(document).ready(function () {
         
          $toc.find('a').parent('li').find('ul').hide();
        
        onScroll();
      });
    }
  })();
</script>

      </div>
      </div>
      
      <div class="min-w-0 min-h-0 max-w-prose">
        
<details style="margin-left:0px" class="mt-2 mb-5 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5"  open >
    <summary
        class="py-1 text-lg font-semibold cursor-pointer bg-primary-200 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-primary-800 dark:text-neutral-100">
        基于Abp框架的博客项目 - This article is part of a series.
    </summary>
    
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8abp%E6%A1%86%E6%9E%B6%E5%88%9B%E5%BB%BA%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">
            Part 1: 基于Abp框架的博客项目：使用Abp框架创建解决方案
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%81%E7%A7%BB/">
            Part 2: 基于Abp框架的博客项目：实体和数据库迁移
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        Part 3: This Article
    </div>
    
    

</details>


        <p>上一节成功地在Abp框架中定义了博客系统最基本的实体，并使用 EFCore 和 SQL Server 进行了数据库迁移，然后生成了数据库表。<br>
本节将使用Abp框架进行基本的增删改查（CRUD），包括创建自定义仓储，编写业务逻辑层，创建数据传输对象（DTO），打开 Swagger UI 查看Abp框架自动生成的 API 端点。</p>
<hr>
<div id="创建自定义仓储" class="anchor"></div>
<h2 class="relative group">创建自定义仓储 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%88%9b%e5%bb%ba%e8%87%aa%e5%ae%9a%e4%b9%89%e4%bb%93%e5%82%a8" aria-label="锚点">#</a></span>        
    
</h2>
<p>关于<a href="https://docs.abp.io/zh-Hans/abp/latest/Repositories"   target="_blank">
    Abp中的仓储</a> 在上一节（生成种子数据那会儿）已经有所介绍。在使用EFCore时，Abp框架会自动地为实现<code>IAggregateRoot(聚合根)</code>接口的实体以及 <code>AbpDbContext</code> 中的 <code>DbSet&lt;&gt;</code> 对应的实体生成仓储并添加到依赖注入容器中。在类中注入 <code>IRepository&lt;&gt;</code> 接口即可访问对应实体类的<strong>默认仓储</strong>。</p>
<p>Abp框架也支持自定义仓储，或是在默认仓储接口上扩展，下面将介绍如何创建自定义仓储接口并提供实现类：</p>
<div id="自定义仓储接口" class="anchor"></div>
<h3 class="relative group">自定义仓储接口 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e4%bb%93%e5%82%a8%e6%8e%a5%e5%8f%a3" aria-label="锚点">#</a></span>        
    
</h3>
<p>首先在领域层(<code>.Domain</code>项目)下创建名为 <code>Abstractions</code> 的文件夹，用于存放抽象接口，再创建名为 <code>Repositories</code> 的文件夹，用于存放仓储接口。接着为 <code>Post</code> 实体定义一个仓储接口，继承自Abp的默认仓储：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">interface</span> <span class="nc">IPostRepository</span> <span class="p">:</span> <span class="n">IRepository</span><span class="p">&lt;</span><span class="n">Post</span><span class="p">,</span><span class="n">Guid</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Task</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">Post</span><span class="p">&gt;&gt;</span> <span class="n">FindByKeywordAsync</span><span class="p">(</span><span class="kt">string</span> <span class="n">keyword</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>现在，领域层的项目结构如图：<br>





  
  
  
    <figure>
      <img class="my-0 rounded-md" src="./%E6%89%B9%E6%B3%A8%202023-04-18%20154333.png" alt="领域层项目结构" />
      
    </figure>
  

</p>
<div id="定义实现类" class="anchor"></div>
<h3 class="relative group">定义实现类 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%ae%9a%e4%b9%89%e5%ae%9e%e7%8e%b0%e7%b1%bb" aria-label="锚点">#</a></span>        
    
</h3>
<p>仓储的实现类应当定义在基础设施/数据访问层，即项目的 <code>.EntityFrameworkCore</code> 项目，在该项目中创建文件夹 <code>Repositories</code> 用于存放仓储接口的实现类。<br>
创建 <code>PostRepository</code> 类，实现刚才创建的 <code>IPostRepository</code> 接口。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">PostRepository</span> <span class="p">:</span> <span class="n">IPostRepository</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>




  
  
  
    <figure>
      <img class="my-0 rounded-md" src="./%E6%89%B9%E6%B3%A8%202023-04-18%20155234.png" alt="仓储接口" />
      
    </figure>
  

</p>
<p>可以看到Abp的默认仓储接口需要实现大量的方法，这些方法不必自己编写，Abp已经提供了实现类，在使用EFCore时，将类继承自 <code>EfCoreRepository</code> 类即可实现大部分方法。实际上，如果使用Abp的默认仓储，框架默认就会把对应的 <code>EfCoreRepository</code> 类作为其实现类注入到依赖中。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">PostRepository</span> <span class="p">:</span> <span class="n">EfCoreRepository</span><span class="p">&lt;</span><span class="n">AbpBlogDbContext</span><span class="p">,</span><span class="n">Post</span><span class="p">,</span><span class="n">Guid</span><span class="p">&gt;,</span><span class="n">IPostRepository</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>实现剩余的方法：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">PostRepository</span> <span class="p">:</span> <span class="n">EfCoreRepository</span><span class="p">&lt;</span><span class="n">AbpBlogDbContext</span><span class="p">,</span><span class="n">Post</span><span class="p">,</span><span class="n">Guid</span><span class="p">&gt;,</span><span class="n">IPostRepository</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">PostRepository</span><span class="p">(</span><span class="n">IDbContextProvider</span><span class="p">&lt;</span><span class="n">AbpBlogDbContext</span><span class="p">&gt;</span> <span class="n">dbContextProvider</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">dbContextProvider</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">Post</span><span class="p">&gt;&gt;</span> <span class="n">FindByKeywordAsync</span><span class="p">(</span><span class="kt">string</span> <span class="n">keyword</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">dbCtx</span> <span class="p">=</span> <span class="k">await</span> <span class="n">GetDbContextAsync</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">await</span> <span class="n">dbCtx</span><span class="p">.</span><span class="n">Posts</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">post</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="n">post</span><span class="p">.</span><span class="n">Markdown</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="n">keyword</span><span class="p">)</span> <span class="p">||</span> 
</span></span><span class="line"><span class="cl">            <span class="n">post</span><span class="p">.</span><span class="n">Title</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="n">keyword</span><span class="p">)</span> <span class="p">||</span> 
</span></span><span class="line"><span class="cl">            <span class="n">post</span><span class="p">.</span><span class="n">Tags</span><span class="p">.</span><span class="n">Any</span><span class="p">(</span><span class="n">tag</span> <span class="p">=&gt;</span> <span class="n">tag</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="n">keyword</span><span class="p">))</span> <span class="p">||</span>
</span></span><span class="line"><span class="cl">            <span class="p">(</span><span class="n">post</span><span class="p">.</span><span class="n">Category</span> <span class="p">!=</span> <span class="k">null</span> <span class="p">&amp;&amp;</span> <span class="n">post</span><span class="p">.</span><span class="n">Category</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="n">keyword</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="p">).</span><span class="n">ToListAsync</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>通过基类的<code>GetDbContextAsync</code>方法可获取到对应的 DbContext 实例，用它访问数据库并实现自定义接口中的方法。</p>
<div id="将自定义仓储添加至依赖注入" class="anchor"></div>
<h3 class="relative group">将自定义仓储添加至依赖注入 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%b0%86%e8%87%aa%e5%ae%9a%e4%b9%89%e4%bb%93%e5%82%a8%e6%b7%bb%e5%8a%a0%e8%87%b3%e4%be%9d%e8%b5%96%e6%b3%a8%e5%85%a5" aria-label="锚点">#</a></span>        
    
</h3>
<p>Abp框架也会自动地将自定义仓储加入依赖，并且默认的仓储<code>IRepository</code>并不会失效，默认仓储不会使用刚才创建的自定义仓储的实现类。</p>
<blockquote>
<p>Abp框架对于不同的ORM框架会采用不同的实现类，该项目使用EFCore，所以使用的是 <code>EfCoreRepository</code> 类。<br>
如果要将默认仓储的实现替换成自定义的实现类，需要在 <code>AbpBlogEntityFrameworkCoreModule</code> 类的 <code>ConfigureServices</code> 方法中对对应实体的默认仓储实现类进行替换。<br>
例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="n">context</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddAbpDbContext</span><span class="p">&lt;</span><span class="n">BookStoreDbContext</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">options</span><span class="p">.</span><span class="n">AddDefaultRepositories</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//将Book实体的默认仓储实现类替换为BookRepository</span>
</span></span><span class="line"><span class="cl">    <span class="n">options</span><span class="p">.</span><span class="n">AddRepository</span><span class="p">&lt;</span><span class="n">Book</span><span class="p">,</span> <span class="n">BookRepository</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><p>访问<a href="https://docs.abp.io/zh-Hans/abp/latest/Entity-Framework-Core#%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%93%E5%82%A8"   target="_blank">
    Abp中的EFCore集成</a>来了解更多关于自定义仓储的信息。</p>
</blockquote>
<hr>
<div id="创建数据传输对象" class="anchor"></div>
<h2 class="relative group">创建数据传输对象 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%88%9b%e5%bb%ba%e6%95%b0%e6%8d%ae%e4%bc%a0%e8%be%93%e5%af%b9%e8%b1%a1" aria-label="锚点">#</a></span>        
    
</h2>
<p>定义供表示层使用的<a href="https://docs.abp.io/zh-Hans/abp/latest/Data-Transfer-Objects"   target="_blank">
    数据传输对象(DTO)</a>。</p>
<blockquote>
<p>数据传输对象(DTO)应用在<em>应用层</em>和<em>表示层</em>并用来与客户端进行数据传输。它起到隔离<em>领域层</em>和<em>表示层</em>以及隐藏重要数据的作用。DTO也对传输数据的序列化起到优化作用，避免了对某些实体的嵌套关系进行重复地序列化。<br>
将客户端对某个实体<strong>有需要</strong>的属性放入DTO，而对于客户端不需要或者是隐私的数据则不放入DTO。<br>
对于数据传输对象的更多信息，参阅<a href="https://docs.abp.io/zh-Hans/abp/latest/Data-Transfer-Objects"   target="_blank">
    Abp框架中的DTO</a>。</p>
</blockquote>
<div id="创建响应数据传输对象" class="anchor"></div>
<h3 class="relative group">创建响应数据传输对象 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%88%9b%e5%bb%ba%e5%93%8d%e5%ba%94%e6%95%b0%e6%8d%ae%e4%bc%a0%e8%be%93%e5%af%b9%e8%b1%a1" aria-label="锚点">#</a></span>        
    
</h3>
<p>首先创建用于响应客户端使用的响应数据传输对象。<br>
在 <code>.Application.Contracts</code> 项目中创建 <code>ResponseDtos</code> 文件夹，用于存放响应DTO，并定义数据传输类 <code>PostDto</code>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">PostDto</span> <span class="p">:</span> <span class="n">EntityDto</span><span class="p">&lt;</span><span class="n">Guid</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">Title</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">MarkDown</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">CategoryDto</span> <span class="n">Category</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">TagDto</span><span class="p">&gt;</span> <span class="n">Tags</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">DateTime</span> <span class="n">CreationTime</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">BlogUserDto</span> <span class="n">Creator</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">DateTime</span><span class="p">?</span> <span class="n">LastModificationTime</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">PostDto</span><span class="p">(</span><span class="kt">string</span> <span class="n">title</span><span class="p">,</span> <span class="kt">string</span> <span class="n">markDown</span><span class="p">,</span> <span class="n">CategoryDto</span><span class="p">?</span> <span class="n">category</span><span class="p">,</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">TagDto</span><span class="p">&gt;</span> <span class="n">tags</span><span class="p">,</span> <span class="n">DateTime</span> <span class="n">creationTime</span><span class="p">,</span> <span class="n">BlogUserDto</span> <span class="n">creator</span><span class="p">,</span> <span class="n">DateTime</span><span class="p">?</span> <span class="n">lastModificationTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Title</span> <span class="p">=</span> <span class="n">title</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">MarkDown</span> <span class="p">=</span> <span class="n">markDown</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Category</span> <span class="p">=</span> <span class="n">category</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Tags</span> <span class="p">=</span> <span class="n">tags</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">CreationTime</span> <span class="p">=</span> <span class="n">creationTime</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Creator</span> <span class="p">=</span> <span class="n">creator</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">LastModificationTime</span> <span class="p">=</span> <span class="n">lastModificationTime</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote>
<p>Abp框架定义好了一些数据传输对象使用的基类/接口以减少重复工作，上面的 <code>PostDto</code> 类就继承自了 <code>EntityDto&lt;Guid&gt;</code> 类，它提前定义好了主键 <code>Id</code> 属性。</p>
</blockquote>
<p>为其余的实体定义响应DTO：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">CategoryDto</span> <span class="p">:</span> <span class="n">EntityDto</span><span class="p">&lt;</span><span class="n">Guid</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>  
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">CategoryDto</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Name</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> 
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">TagDto</span> <span class="p">:</span> <span class="n">EntityDto</span><span class="p">&lt;</span><span class="n">Guid</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">required</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">TagDto</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Name</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">BlogUserDto</span> <span class="p">:</span> <span class="n">EntityDto</span><span class="p">&lt;</span><span class="n">Guid</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">required</span> <span class="kt">string</span> <span class="n">UserName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">required</span> <span class="kt">string</span> <span class="n">Email</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">required</span> <span class="kt">string?</span> <span class="n">Avatar</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">BlogUserDto</span><span class="p">(</span><span class="kt">string</span> <span class="n">userName</span><span class="p">,</span> <span class="kt">string</span> <span class="n">email</span><span class="p">,</span> <span class="kt">string?</span> <span class="n">avatar</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">UserName</span> <span class="p">=</span> <span class="n">userName</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Email</span> <span class="p">=</span> <span class="n">email</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Avatar</span> <span class="p">=</span> <span class="n">avatar</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div id="创建请求数据传输对象" class="anchor"></div>
<h3 class="relative group">创建请求数据传输对象 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%88%9b%e5%bb%ba%e8%af%b7%e6%b1%82%e6%95%b0%e6%8d%ae%e4%bc%a0%e8%be%93%e5%af%b9%e8%b1%a1" aria-label="锚点">#</a></span>        
    
</h3>
<p>对于客户端的请求（比如创建，修改）也要创建数据传输对象，同样在 <code>.Application.Contracts</code> 项目中创建 <code>RequestDtos</code> 文件夹，用于存放请求DTO，定义数据传输 <code>CreatePostDto</code>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">CreatePostDto</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">Title</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">Markdown</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">Guid</span><span class="p">?</span> <span class="n">CategoryId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Guid</span><span class="p">&gt;</span> <span class="n">TagIds</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">Guid</span><span class="p">?</span> <span class="n">CreatorId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">CreatePostDto</span><span class="p">(</span><span class="kt">string</span> <span class="n">title</span><span class="p">,</span> <span class="kt">string</span> <span class="n">markdown</span><span class="p">,</span> <span class="n">Guid</span><span class="p">?</span> <span class="n">categoryId</span><span class="p">,</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Guid</span><span class="p">&gt;</span> <span class="n">tagIds</span><span class="p">,</span> <span class="n">Guid</span><span class="p">?</span> <span class="n">creatorId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Title</span> <span class="p">=</span> <span class="n">title</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Markdown</span> <span class="p">=</span> <span class="n">markdown</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">CategoryId</span> <span class="p">=</span> <span class="n">categoryId</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">TagIds</span> <span class="p">=</span> <span class="n">tagIds</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">CreatorId</span> <span class="p">=</span> <span class="n">creatorId</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>请求传输对象没有<code>Id</code>属性，故不需要继承自<code>EntityDto</code>类。
创建其他的请求数据传输对象：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">CreateCategoryDto</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">CreateCategoryDto</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Name</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">CreateTagDto</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">CreateTagDto</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Name</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">CreateBlogUserDto</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">UserName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">Password</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">Email</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string?</span> <span class="n">Avatar</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">CreateBlogUserDto</span><span class="p">(</span><span class="kt">string</span> <span class="n">userName</span><span class="p">,</span> <span class="kt">string</span> <span class="n">password</span><span class="p">,</span> <span class="kt">string</span> <span class="n">email</span><span class="p">,</span> <span class="kt">string?</span> <span class="n">avatar</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">UserName</span> <span class="p">=</span> <span class="n">userName</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Password</span> <span class="p">=</span> <span class="n">password</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Email</span> <span class="p">=</span> <span class="n">email</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Avatar</span> <span class="p">=</span> <span class="n">avatar</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div id="请求数据对象校验" class="anchor"></div>
<h3 class="relative group">请求数据对象校验 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e8%af%b7%e6%b1%82%e6%95%b0%e6%8d%ae%e5%af%b9%e8%b1%a1%e6%a0%a1%e9%aa%8c" aria-label="锚点">#</a></span>        
    
</h3>
<p>请求数据传输对象需要做数据校验，可以为DTO类标注<a href="https://learn.microsoft.com/zh-cn/dotnet/api/system.componentmodel.dataannotations?view=net-7.0"   target="_blank">
    <code>System.ComponentModel.DataAnnotations</code></a>命名空间中的特性（注解）来自动进行数据校验（在Abp框架中将由Abp进行校验而不是ASP .NET Core）。个人偏爱于使用<a href="https://fluentvalidation.net/"   target="_blank">
    <em><strong>FluentValidation</strong></em></a>数据校验库，Abp框架也添加了它的<a href="https://docs.abp.io/zh-Hans/abp/latest/FluentValidation"   target="_blank">
    集成</a>：</p>
<ol>
<li>
<p>添加<code>Volo.Abp.FluentValidation</code>Nuget包到项目中</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Install-Package Volo.Abp.FluentValidation
</span></span></code></pre></div><blockquote>
<p>注意！ 命名空间为<em><strong>Volo.Abp.FluentValidation</strong></em>而不是<em><strong>Abp.FluentValidation</strong></em>，后者属于 <a href="https://aspnetboilerplate.com/"   target="_blank">
    ASP .NET Boilerplate</a> 框架 (Volo.Abp的前身) ，而不是本项目使用的 <a href="https://abp.io/"   target="_blank">
    <em><strong>Volo.Abp</strong></em></a>。 本项目中Abp框架的命名空间都应当是以 <code>Volo.Abp</code> 开头的，注意区分。</p>
</blockquote>
</li>
<li>
<p>在当前模块类(<code>AbpBlogApplicationContractsModule</code>)中添加依赖：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="na">[DependsOn(
</span></span></span><span class="line"><span class="cl"><span class="na">    //...其他依赖
</span></span></span><span class="line"><span class="cl"><span class="na">    typeof(AbpFluentValidationModule)//Abp FluentValidation集成
</span></span></span><span class="line"><span class="cl"><span class="na">)]</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">AbpBlogApplicationContractsModule</span> <span class="p">:</span> <span class="n">AbpModule</span>
</span></span></code></pre></div></li>
<li>
<p>然后按照<a href="https://fluentvalidation.net/"   target="_blank">
    FluentValidation文档</a>创建校验器类：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">CreatePostDtoValidator</span> <span class="p">:</span> <span class="n">AbstractValidator</span><span class="p">&lt;</span><span class="n">CreatePostDto</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">CreatePostDtoValidator</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">RuleFor</span><span class="p">(</span><span class="n">dto</span> <span class="p">=&gt;</span> <span class="n">dto</span><span class="p">.</span><span class="n">Title</span><span class="p">).</span><span class="n">MaximumLength</span><span class="p">(</span><span class="m">64</span><span class="p">).</span><span class="n">WithMessage</span><span class="p">(</span><span class="s">&#34;文章的标题过长，最大长度为64&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">RuleFor</span><span class="p">(</span><span class="n">dto</span> <span class="p">=&gt;</span> <span class="n">dto</span><span class="p">.</span><span class="n">Markdown</span><span class="p">).</span><span class="n">MaximumLength</span><span class="p">(</span><span class="m">20000</span><span class="p">).</span><span class="n">WithMessage</span><span class="p">(</span><span class="s">&#34;文章过长，最多为20000字&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Abp框架将会自动找到这个类并在创建时进行校验。</p>
<blockquote>
<p>方便起见，该项目将Dto类的校验器类于Dto类放在了同一文件中，若有其他需求可转移至别的文件。</p>
</blockquote>
</li>
<li>
<p>创建其他的校验器类</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">CreateCategoryDtoValidator</span> <span class="p">:</span> <span class="n">AbstractValidator</span><span class="p">&lt;</span><span class="n">CreateCategoryDto</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">CreateCategoryDtoValidator</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">RuleFor</span><span class="p">(</span><span class="n">dto</span> <span class="p">=&gt;</span> <span class="n">dto</span><span class="p">.</span><span class="n">Name</span><span class="p">).</span><span class="n">NotEmpty</span><span class="p">().</span><span class="n">WithMessage</span><span class="p">(</span><span class="s">&#34;类型名不得为空&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">RuleFor</span><span class="p">(</span><span class="n">dto</span> <span class="p">=&gt;</span> <span class="n">dto</span><span class="p">.</span><span class="n">Name</span><span class="p">).</span><span class="n">MaximumLength</span><span class="p">(</span><span class="m">32</span><span class="p">).</span><span class="n">WithMessage</span><span class="p">(</span><span class="s">&#34;类型名过长，最多为32个字&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">CreateTagDtoValidator</span> <span class="p">:</span> <span class="n">AbstractValidator</span><span class="p">&lt;</span><span class="n">TagDto</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">CreateTagDtoValidator</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">RuleFor</span><span class="p">(</span><span class="n">dto</span> <span class="p">=&gt;</span> <span class="n">dto</span><span class="p">.</span><span class="n">Name</span><span class="p">).</span><span class="n">NotEmpty</span><span class="p">().</span><span class="n">WithMessage</span><span class="p">(</span><span class="s">&#34;标签名不得为空&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">RuleFor</span><span class="p">(</span><span class="n">dto</span> <span class="p">=&gt;</span> <span class="n">dto</span><span class="p">.</span><span class="n">Name</span><span class="p">).</span><span class="n">MaximumLength</span><span class="p">(</span><span class="m">32</span><span class="p">).</span><span class="n">WithMessage</span><span class="p">(</span><span class="s">&#34;标签过长，最多为32个字&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">CreateBlogUserDtoValidator</span> <span class="p">:</span> <span class="n">AbstractValidator</span><span class="p">&lt;</span><span class="n">CreateBlogUserDto</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">CreateBlogUserDtoValidator</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">RuleFor</span><span class="p">(</span><span class="n">dto</span> <span class="p">=&gt;</span> <span class="n">dto</span><span class="p">.</span><span class="n">UserName</span><span class="p">).</span><span class="n">Length</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">24</span><span class="p">).</span><span class="n">WithMessage</span><span class="p">(</span><span class="s">&#34;用户名的长度需要为4-24之间&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">RuleFor</span><span class="p">(</span><span class="n">dto</span> <span class="p">=&gt;</span> <span class="n">dto</span><span class="p">.</span><span class="n">Password</span><span class="p">).</span><span class="n">Length</span><span class="p">(</span><span class="m">6</span><span class="p">,</span> <span class="m">32</span><span class="p">).</span><span class="n">WithMessage</span><span class="p">(</span><span class="s">&#34;密码的长度需要为6-32之间&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">RuleFor</span><span class="p">(</span><span class="n">dto</span> <span class="p">=&gt;</span> <span class="n">dto</span><span class="p">.</span><span class="n">Email</span><span class="p">).</span><span class="n">EmailAddress</span><span class="p">().</span><span class="n">WithMessage</span><span class="p">(</span><span class="s">&#34;邮件格式错误&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">When</span><span class="p">(</span><span class="n">dto</span> <span class="p">=&gt;</span> <span class="n">dto</span><span class="p">.</span><span class="n">Avatar</span> <span class="k">is</span> <span class="n">not</span> <span class="k">null</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="n">RuleFor</span><span class="p">(</span><span class="n">dto</span> <span class="p">=&gt;</span> <span class="n">dto</span><span class="p">.</span><span class="n">Avatar</span><span class="p">).</span><span class="n">Length</span><span class="p">(</span><span class="m">2000</span><span class="p">).</span><span class="n">WithMessage</span><span class="p">(</span><span class="s">&#34;头像的URL过长&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
</ol>
<div id="实体类与数据传输对象的映射" class="anchor"></div>
<h3 class="relative group">实体类与数据传输对象的映射 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%ae%9e%e4%bd%93%e7%b1%bb%e4%b8%8e%e6%95%b0%e6%8d%ae%e4%bc%a0%e8%be%93%e5%af%b9%e8%b1%a1%e7%9a%84%e6%98%a0%e5%b0%84" aria-label="锚点">#</a></span>        
    
</h3>
<p>在表示层和应用层之间传递数据时会频繁地将实体类与DTO类进行映射，过程重复而又繁琐，因此Abp框架使用了<a href="https://automapper.org/"   target="_blank">
    <em><strong>AutoMapper</strong></em></a> 库以进行自动的对象映射。</p>
<blockquote>
<ul>
<li>Abp框架使用<em>AutoMapper</em>对DTO和实体进行映射，开发者需要提供每个实体类与其对应DTO的映射规则，Abp框架才能正常进行映射并提供CRUD操作。</li>
<li>更多关于Abp框架的对象映射参阅官方文档中的<a href="https://docs.abp.io/zh-Hans/abp/latest/Object-To-Object-Mapping"   target="_blank">
    <em>对象到对象映射</em></a>。</li>
</ul>
</blockquote>
<p>根据<a href="https://docs.automapper.org/en/latest/Getting-started.html"   target="_blank">
    AutoMapper文档</a>配置对象映射方案，Abp框架已经在<code>.Application</code>项目中创建好了配置AutoMapper所使用的<a href="https://docs.automapper.org/en/latest/Configuration.html?highlight=profile#profile-instances"   target="_blank">
    <code>Profile</code></a>类，只需在这个类中添加对象映射即可：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="n">AbpBlogApplicationAutoMapperProfile</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/* You can configure your AutoMapper mapping configuration here.
</span></span></span><span class="line"><span class="cl"><span class="cm">        * Alternatively, you can split your mapping configurations
</span></span></span><span class="line"><span class="cl"><span class="cm">        * into multiple profile classes for a better organization. */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">CreateMap</span><span class="p">&lt;</span><span class="n">Post</span><span class="p">,</span> <span class="n">PostDto</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">CreateMap</span><span class="p">&lt;</span><span class="n">Category</span><span class="p">,</span> <span class="n">CategoryDto</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">CreateMap</span><span class="p">&lt;</span><span class="n">Tag</span><span class="p">,</span> <span class="n">TagDto</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">CreateMap</span><span class="p">&lt;</span><span class="n">BlogUser</span><span class="p">,</span> <span class="n">BlogUserDto</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">CreateMap</span><span class="p">&lt;</span><span class="n">CreatePostDto</span><span class="p">,</span> <span class="n">Post</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">CreateMap</span><span class="p">&lt;</span><span class="n">CreateCategoryDto</span><span class="p">,</span> <span class="n">Category</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">CreateMap</span><span class="p">&lt;</span><span class="n">CreateTagDto</span><span class="p">,</span> <span class="n">Tag</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">CreateMap</span><span class="p">&lt;</span><span class="n">CreateBlogUserDto</span><span class="p">,</span> <span class="n">BlogUser</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<div id="定义应用程序服务" class="anchor"></div>
<h2 class="relative group">定义应用程序服务 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%ae%9a%e4%b9%89%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e6%9c%8d%e5%8a%a1" aria-label="锚点">#</a></span>        
    
</h2>
<div id="定义应用服务接口" class="anchor"></div>
<h3 class="relative group">定义应用服务接口 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%ae%9a%e4%b9%89%e5%ba%94%e7%94%a8%e6%9c%8d%e5%8a%a1%e6%8e%a5%e5%8f%a3" aria-label="锚点">#</a></span>        
    
</h3>
<p>在<code>.Application.Contracts</code>项目中创建<code>AppServices</code>文件夹，在此存放应用程序服务接口，也就是业务逻辑接口。<br>
创建<code>Blog</code>文件夹，并定义<code>IPostAppService</code>接口：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">interface</span> <span class="nc">IPostAppService</span> <span class="p">:</span> <span class="n">ICrudAppService</span><span class="p">&lt;</span><span class="n">PostDto</span><span class="p">,</span><span class="n">Guid</span><span class="p">,</span><span class="n">PagedAndSortedResultRequestDto</span><span class="p">,</span><span class="n">CreatePostDto</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{}</span>
</span></span></code></pre></div><p>上述的代码创建了一个<code>Post</code>实体的应用服务接口，并扩展了Abp框架提供的<code>ICrudAppService&lt;&gt;</code>接口，该接口定义了常用的CRUD方法，在类型参数中填上实体对应的DTO，该接口就能提供该DTO对应的CRUD方法。<br>
例如上面的代码在<code>ICrudAppService</code>接口中提供了<code>PostDto</code>、<code>Guid</code>类型主键、*<code>PagedAndSortedResultRequestDto</code>*和<code>CreatePostDto</code>，该接口提供了<code>GetAsync</code>,<code>GetListAsync</code>,<code>CreateAsync</code>,<code>UpdateAsync</code>和<code>DeleteAsync</code>方法。</p>
<blockquote>
<ul>
<li><code>ICrudAppService</code>接口有多个泛型变体，提供不同种类的DTO，它定义的方法就不一样。</li>
<li><code>PagedAndSortedResultRequestDto</code>是Abp提供的DTO，它提供了用于分页查询和排序的属性。</li>
<li><code>ICrudAppService</code>接口实现了<code>IApplicationService</code>接口，Abp将会识别实现该接口的接口并根据<strong>接口定义的方法名</strong>和相应的<a href="https://docs.abp.io/zh-Hans/abp/latest/API/Auto-API-Controllers#%E4%BE%8B%E5%AD%90"   target="_blank">
    <strong>约定</strong></a> 生成对应的 API 控制器。</li>
<li>开发者也可以不使用<code>ICrudAppService</code>接口，而是自己定义接口以及方法，只要接口实现了<code>IApplicationService</code>接口并且方法的名字符合<a href="https://docs.abp.io/zh-Hans/abp/latest/API/Auto-API-Controllers#%E4%BE%8B%E5%AD%90"   target="_blank">
    <strong>约定</strong></a> ，Abp框架就可以自动生成API控制器。<br>
Abp框架生成API的配置是可以自定义的，在<code>.HttpApi.Host</code>项目的<code>AbpBlogHttpApiHostModule</code>类中定义了Abp根据应用服务生成API控制器的方法：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">private</span> <span class="k">void</span> <span class="n">ConfigureConventionalControllers</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Configure</span><span class="p">&lt;</span><span class="n">AbpAspNetCoreMvcOptions</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">options</span><span class="p">.</span><span class="n">ConventionalControllers</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">AbpBlogApplicationModule</span><span class="p">).</span><span class="n">Assembly</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
<li>更多关于Abp框架自动生成API控制器的信息参阅官方文档中的<a href="https://docs.abp.io/zh-Hans/abp/latest/API/Auto-API-Controllers"   target="_blank">
    自动API控制器</a></li>
</ul>
</blockquote>
<p>定义其他实体的应用服务接口：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">interface</span> <span class="nc">ICategoryAppService</span> <span class="p">:</span> <span class="n">ICrudAppService</span><span class="p">&lt;</span><span class="n">CategoryDto</span><span class="p">,</span><span class="n">Guid</span><span class="p">,</span><span class="n">PagedAndSortedResultRequestDto</span><span class="p">,</span><span class="n">CreateCategoryDto</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">interface</span> <span class="nc">ITagAppService</span><span class="p">:</span><span class="n">ICrudAppService</span><span class="p">&lt;</span><span class="n">TagDto</span><span class="p">,</span><span class="n">Guid</span><span class="p">,</span><span class="n">PagedAndSortedResultRequestDto</span><span class="p">,</span><span class="n">CreateTagDto</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">interface</span> <span class="nc">IBlogUserAppService</span><span class="p">:</span><span class="n">ICrudAppService</span><span class="p">&lt;</span><span class="n">BlogUserDto</span><span class="p">,</span><span class="n">Guid</span><span class="p">,</span><span class="n">PagedAndSortedResultRequestDto</span><span class="p">,</span><span class="n">CreateBlogUserDto</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div id="实现应用服务接口" class="anchor"></div>
<h3 class="relative group">实现应用服务接口 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%ae%9e%e7%8e%b0%e5%ba%94%e7%94%a8%e6%9c%8d%e5%8a%a1%e6%8e%a5%e5%8f%a3" aria-label="锚点">#</a></span>        
    
</h3>
<p>在应用层<code>.Application</code>项目中对上述接口进行实现，创建<code>AppServices</code>文件夹，然后编写实现类：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">PostAppServices</span> <span class="p">:</span> <span class="n">CrudAppService</span><span class="p">&lt;</span><span class="n">Post</span><span class="p">,</span><span class="n">PostDto</span><span class="p">,</span><span class="n">Guid</span><span class="p">,</span><span class="n">PagedAndSortedResultRequestDto</span><span class="p">,</span><span class="n">CreatePostDto</span><span class="p">&gt;</span> <span class="p">,</span><span class="n">IPostAppService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">PostAppServices</span><span class="p">(</span><span class="n">IRepository</span><span class="p">&lt;</span><span class="n">Post</span><span class="p">,</span> <span class="n">Guid</span><span class="p">&gt;</span> <span class="n">repository</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">repository</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Abp也提供了<code>ICrudAppService</code>接口对应的实现类，它会自动注入相应实体的<a href="https://docs.abp.io/zh-Hans/abp/latest/Repositories"   target="_blank">
    <em><strong>默认仓储</strong></em></a>，以及<a href="https://docs.abp.io/zh-Hans/abp/latest/Object-To-Object-Mapping#iobjectmapper"   target="_blank">
    <code>IObjectMapper</code></a>对对象进行映射，然后实现<code>ICrudAppService</code>接口中对应的CRUD方法。</p>
<blockquote>
<ul>
<li><code>CrudAppService</code>类与<code>ICrudAppService</code>类似，都拥有不同的泛型版本，确保他们俩类型参数中的DTO一致。</li>
<li><a href="https://docs.abp.io/zh-Hans/abp/latest/Object-To-Object-Mapping#iobjectmapper"   target="_blank">
    <code>IObjectMapper</code></a> 是Abp定义的一个可重用的对象映射接口，如果之前配置好了<em>AutoMapper</em>，那么Abp框架就会自动将该接口添加到依赖注入并且使用<em>AutoMapper</em>进行对象映射。</li>
</ul>
</blockquote>
<p>实现其他实体的应用服务接口：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">CategoryAppService</span><span class="p">:</span><span class="n">CrudAppService</span><span class="p">&lt;</span><span class="n">Category</span><span class="p">,</span><span class="n">CategoryDto</span><span class="p">,</span><span class="n">Guid</span><span class="p">,</span><span class="n">PagedAndSortedResultRequestDto</span><span class="p">,</span><span class="n">CreateCategoryDto</span><span class="p">&gt;</span> <span class="p">,</span><span class="n">ICategoryAppService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">CategoryAppService</span><span class="p">(</span><span class="n">IRepository</span><span class="p">&lt;</span><span class="n">Category</span><span class="p">,</span> <span class="n">Guid</span><span class="p">&gt;</span> <span class="n">repository</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">repository</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">TagAppService</span><span class="p">:</span><span class="n">CrudAppService</span><span class="p">&lt;</span><span class="n">Tag</span><span class="p">,</span><span class="n">TagDto</span><span class="p">,</span><span class="n">Guid</span><span class="p">,</span><span class="n">PagedAndSortedResultRequestDto</span><span class="p">,</span><span class="n">CreateTagDto</span><span class="p">&gt;</span> <span class="p">,</span><span class="n">ITagAppService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">TagAppService</span><span class="p">(</span><span class="n">IRepository</span><span class="p">&lt;</span><span class="n">Tag</span><span class="p">,</span> <span class="n">Guid</span><span class="p">&gt;</span> <span class="n">repository</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">repository</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">BlogUserAppService</span> <span class="p">:</span> <span class="n">CrudAppService</span><span class="p">&lt;</span><span class="n">BlogUser</span><span class="p">,</span> <span class="n">BlogUserDto</span><span class="p">,</span> <span class="n">Guid</span><span class="p">,</span> <span class="n">PagedAndSortedResultRequestDto</span><span class="p">,</span> <span class="n">CreateBlogUserDto</span><span class="p">&gt;,</span> <span class="n">IBlogUserAppService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">BlogUserAppService</span><span class="p">(</span><span class="n">IRepository</span><span class="p">&lt;</span><span class="n">BlogUser</span><span class="p">,</span> <span class="n">Guid</span><span class="p">&gt;</span> <span class="n">repository</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">repository</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<div id="swagger-ui" class="anchor"></div>
<h2 class="relative group">Swagger UI 
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#swagger-ui" aria-label="锚点">#</a></span>        
    
</h2>
<p>Abp框架使用了SwashBukle.AspNetCore运行<em><strong>Swagger UI</strong></em>，运行<code>.HttpApi.Host</code>项目，打开Swagger，就可以看到刚才定义的AppService已经被Abp框架自动生成为 API 接口：<br>





  
  
  
    <figure>
      <img class="my-0 rounded-md" src="./%E6%89%B9%E6%B3%A8%202023-04-20%20234155.png" alt="Swagger" />
      
    </figure>
  

</p>

        </br></br>
        
<details style="margin-left:0px" class="mt-2 mb-5 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5">
    <summary
        class="py-1 text-lg font-semibold cursor-pointer bg-primary-200 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-primary-800 dark:text-neutral-100">
        基于Abp框架的博客项目 - This article is part of a series.
    </summary>
    
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8abp%E6%A1%86%E6%9E%B6%E5%88%9B%E5%BB%BA%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">
            Part 1: 基于Abp框架的博客项目：使用Abp框架创建解决方案
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%81%E7%A7%BB/">
            Part 2: 基于Abp框架的博客项目：实体和数据库迁移
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        Part 3: This Article
    </div>
    
    

</details>


      </div>
      <script>
        var oid = "views_posts\\基于Abp框架的博客项目：基本的CRUD\\index.md"
        var oid_likes = "likes_posts\\基于Abp框架的博客项目：基本的CRUD\\index.md"
      </script>
      
      
      <script type="text/javascript" src="/Hugo-Blog-Blowfish-Theme/js/page.min.0e49973b4ad0a382c7c6012d8bff8226316642daabc4f8a20477bd08674f3da6e2fa993bc20ad4f51e7c5bb68e6f913a207a7c4fe37ea0e7b806894afce0a64e.js" integrity="sha512-DkmXO0rQo4LHxgEti/&#43;CJjFmQtqrxPiiBHe9CGdPPabi&#43;pk7wgrU9R58W7aOb5E6IHp8T&#43;N&#43;oOe4BolK/OCmTg=="></script>
  </section>
  <footer class="pt-8 max-w-prose print:hidden">

    
  <div class="flex">
    
      
      
        
        <img
          class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4"
          width="96"
          height="96"
          alt="梓"
          src="/Hugo-Blog-Blowfish-Theme/icons/author_huc7c5f53e7a7e442840bc7322fda3a490_146602_192x192_fill_q75_box_center.jpg"
        />
      
    
    <div class="place-self-center">
      
        <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
          作者
        </div>
        <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
          梓
        </div>
      
      
        <div class="text-sm text-neutral-700 dark:text-neutral-400">沉舟侧畔千帆过，病树前头万木春</div>
      
      <div class="text-2xl sm:text-lg">
  <div class="flex flex-wrap text-neutral-400 dark:text-neutral-500">
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="2817212736@qq.com"
          target="_blank"
          aria-label="Email"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>

  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://github.com/AzusaArchive"
          target="_blank"
          aria-label="Github"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>

</span></a
        >
      
    
  </div>

</div>
    </div>
  </div>



    
    
    

    

    

    
  
  <section class="flex flex-row flex-wrap justify-center pt-4 text-xl">
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://twitter.com/intent/tweet/?url=https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E7%9A%84crud/&amp;text=%e5%9f%ba%e4%ba%8eAbp%e6%a1%86%e6%9e%b6%e7%9a%84%e5%8d%9a%e5%ae%a2%e9%a1%b9%e7%9b%ae%ef%bc%9a%e5%9f%ba%e6%9c%ac%e7%9a%84CRUD"
      title="分享到 Twitter"
      aria-label="分享到 Twitter"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://reddit.com/submit/?url=https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E7%9A%84crud/&amp;resubmit=true&amp;title=%e5%9f%ba%e4%ba%8eAbp%e6%a1%86%e6%9e%b6%e7%9a%84%e5%8d%9a%e5%ae%a2%e9%a1%b9%e7%9b%ae%ef%bc%9a%e5%9f%ba%e6%9c%ac%e7%9a%84CRUD"
      title="提交到 Reddit"
      aria-label="提交到 Reddit"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://www.facebook.com/sharer/sharer.php?u=https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E7%9A%84crud/&amp;quote=%e5%9f%ba%e4%ba%8eAbp%e6%a1%86%e6%9e%b6%e7%9a%84%e5%8d%9a%e5%ae%a2%e9%a1%b9%e7%9b%ae%ef%bc%9a%e5%9f%ba%e6%9c%ac%e7%9a%84CRUD"
      title="分享到 Facebook"
      aria-label="分享到 Facebook"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="mailto:?body=https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E7%9A%84crud/&amp;subject=%e5%9f%ba%e4%ba%8eAbp%e6%a1%86%e6%9e%b6%e7%9a%84%e5%8d%9a%e5%ae%a2%e9%a1%b9%e7%9b%ae%ef%bc%9a%e5%9f%ba%e6%9c%ac%e7%9a%84CRUD"
      title="通过电子邮件发送"
      aria-label="通过电子邮件发送"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>

  </span>


    </a>
      
    
  </section>


    
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="flex group mr-3" href="/Hugo-Blog-Blowfish-Theme/posts/%E5%9F%BA%E4%BA%8Eabp%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%81%E7%A7%BB/">
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >基于Abp框架的博客项目：实体和数据库迁移</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2023-04-14 20:56:41 &#43;0800 CST">2023年4月14日</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
        </span>
      </div>
    </div>
  


    
  </footer>
</article>

      <div class="pointer-events-none absolute top-[100vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top" title="Scroll to top">
    &uarr;
  </a>
</div>
    </main><footer class="py-10 print:hidden">
  
  
    
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
      Copy, <em>right?</em> 🤔
    </p>
    

    
    
    <p class="text-xs text-neutral-500 dark:text-neutral-400">
      
      
      由 <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a> 强力驱动
    </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/Hugo-Blog-Blowfish-Theme/js/process.min.2166d3adac1679c00a75161830ab5725d3efc0e3d3f8c2453fb01d0907948436c25f0f8a7ad824322fa22f3f9c85fd4d0a1d5c856f53b862157da25a57dc3d52.js" integrity="sha512-IWbTrawWecAKdRYYMKtXJdPvwOPT&#43;MJFP7AdCQeUhDbCXw&#43;KetgkMi&#43;iLz&#43;chf1NCh1chW9TuGIVfaJaV9w9Ug=="></script>
  
  
</footer><div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="https://azusaarchive.github.io/Hugo-Blog-Blowfish-Theme/"
  style="z-index:500"
>
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)"
      >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

  </div>
</body>

</html>
